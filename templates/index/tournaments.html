{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "LieroGBG" %}{% endblock %}

{% block content %}
<div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>{% trans "Date" %}</th>
                <th>{% trans "Name" %}</th>
                <th>{% trans "Winner" %}</th>
                <th>{% trans "Number of players" %}</th>
                <th>{% trans "Number of games" %}</th>
                <th>{% trans "Ante percentage" %}</th>
                <th>{% trans "Total ante" %}</th>
                <th>{% trans "Finished" %}</th>
            </tr>
        </thead>
        <tbody>
        {% for t in tournaments %}
            <tr class="tournament_link" id="id_tournament_{{ t.pk }}">
                <td>{{ t.start_time }}</td>
                <td>{{ t.name }}</td>
                <td>{{ t.winner }}</td>
                <td>{{ t.players }}</td>
                <td>{{ t.games }}</td>
                <td>{{ t.ante }}</td>
                <td>{{ t.total_ante }}</td>
                <td>
                    {% if t.finished %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
{% block custom_scripts %}
<script type="text/javascript">
$(document).ready(function () {
    'use strict';
    $(".tournament_link").click(function() {
        var tournament_key = $(this).attr("id")
        var id_regex = new RegExp('id_tournament_(\\d+)');
        var replacement = "$1";
        var replaced = tournament_key.replace(id_regex, replacement);
        window.location.href = {% url 'index.views.edit_tournament' '' %} + replaced;
    });
});
</script>


</script
{% endblock %}
